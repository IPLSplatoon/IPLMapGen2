<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="mobileStyle.css">

    <link rel="icon" type="image/x-icon" href="favicon.ico">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/66a42373e4.js" crossorigin="anonymous"></script>

    <meta content="maps.iplabs.ink" property="og:title">
    <meta content="A Splatoon map list generator created by Inkling Performance Labs." property="og:description" />
    <meta content="https://maps.iplabs.ink" property="og:url">
    <meta content="#2df8a4" data-react-helmet="true" name="theme-color">
    
    <title>maps.iplabs.ink</title>
</head>
<body>
    <div class="header">
        <div class="logo-wrapper">
            <i class="fa-regular fa-map"></i>
            <img src="ipl-mono-bold.svg">
            MAPS.IPLABS.INK
        </div>
    </div>
    <div class="column-container">
        <div class="options-panel">

            <div class="menu-header">Edit Current Map Pool</div>
            <button class="map-picker button" id="tw-picker">
                <div class="title">Turf War Maps</div>
                <div class="detail" id="tw-picker-detail">0 Maps selected <i class="right-bias fa-solid fa-circle-chevron-right"></i></div>
            </button>
            <button class="map-picker button" id="sz-picker">
                <div class="title">Splat Zones Maps</div>
                <div class="detail" id="sz-picker-detail">0 Maps selected <i class="right-bias fa-solid fa-circle-chevron-right"></i></div>
            </button>
            <button class="map-picker button" id="tc-picker">
                <div class="title">Tower Control Maps</div>
                <div class="detail" id="tc-picker-detail">0 Maps selected <i class="right-bias fa-solid fa-circle-chevron-right"></i></div>
            </button>
            <button class="map-picker button" id="rm-picker">
                <div class="title">Rainmaker Maps</div>
                <div class="detail" id="rm-picker-detail">0 Maps selected <i class="right-bias fa-solid fa-circle-chevron-right"></i></div>
            </button>
            <button class="map-picker button" id="cb-picker">
                <div class="title">Clam Blitz Maps</div>
                <div class="detail" id="cb-picker-detail">0 Maps selected <i class="right-bias fa-solid fa-circle-chevron-right"></i></div>
            </button>

            <div class="menu-header">Save & Load Map Pool</div>
            <button class="save-load button" id="save-button" onclick="saveOnClick()">
                <div class="title">Save Current Map Pool</div>
                <div class="detail"><i class="right-bias fa-solid fa-circle-chevron-right"></i></div>
            </button>
            <button class="save-load button" id="load-button" onclick="loadOnClick()">
                <div class="title">Load Existing Map Pool</div>
                <div class="detail"><i class="right-bias fa-solid fa-circle-chevron-right"></i></div>
            </button>

            <div class="menu-header">Edit Round Info</div>
            <div class="round-adder">
                <div class="title">Add Round</div>
                <wbr>
                <label for="round-name" class="detail">Name
                    <input  type="text" id="round-name" maxlength="32"></input>
                </label>
                <wbr>
                <label for="round-games" class="detail">Games
                    <input type="number" min="1" max="15" value=3 step="2" id="round-games"></input>
                </label>
                <wbr>
                <label for="round-counterpick-check" class="detail">Counterpick
                    <input id="round-counterpick-check" type="checkbox">
                </label>
                <wbr>
                <button class="button" id="add-round-button">Add <i class="right-bias fa-solid fa-circle-chevron-right"></i></button>
            </div>
            <div class="round-editor" id="round-editor">
            </div>
            
            <div class="menu-header">Generate</div>
            <div class="generate-error-message" id="generate-error-message" style="display: none;"></div>
            <button class="generate button" onclick="generateMaps()">
                <div class="title">Generate All</div>
                <div class="detail">Maps and modes <i class="right-bias fa-solid fa-circle-chevron-right"></i></div>
            </button>
            <button class="generate button" onclick="generateModes()">
                <div class="title">Generate Modes Only</div>
                <div class="detail">Chooses modes only <i class="right-bias fa-solid fa-circle-chevron-right"></i></div>
            </button>
            <button class="generate button" onclick="generateEmptyRounds()">
                <div class="title">Generate Empty Rounds</div>
                <div class="detail">No maps or modes selected <i class="right-bias fa-solid fa-circle-chevron-right"></i></div>
            </button>
        </div>

        
        <div class="maps-panel" id="maps-panel">
            <div class="maps-instruction" id="maps-instruction">
                Add maps to the map pool.<br>
                Add round info.<br>
                Choose a generate option.    
            </div> 
            <div class="generate-container" id="generate-container"></div>
            <div class="export-buttons-container" id="export-buttons-container">
                <button class="export button" id="export-button-discord"><i class="left-bias fa-brands fa-discord"></i>Discord Message</button>
                <button class="export button" id="export-button-url"><i class="left-bias fa-solid fa-code"></i></i>Share URL</button>
                <button class="export button" id="export-button-json" onclick="exportToJSONFile()"><i class="left-bias fa-solid fa-file-code"></i>Export JSON</button>
            </div>
        </div>
    </div>

    <div class="modal-container" id="modal-container">
        <div class="modal-content green" id="tw-picker-modal">
            <button class="button exit" id="tw-picker-close"><i class="left-bias fa-solid fa-circle-xmark"></i> Exit</button>
            <div class="picker-select-shortcuts">
                <button class="button select-all" id="tw-select-all"><i class="left-bias fa-solid fa-list-check"></i> Select All</button>
                <button class="button deselect-all" id="tw-deselect-all"><i class="left-bias fa-solid fa-list-ul"></i> Deselect All</button>
            </div>
        </div>
        <div class="modal-content green" id="sz-picker-modal">
            <button class="button exit" id="sz-picker-close"><i class="left-bias fa-solid fa-circle-xmark"></i> Exit</button>
            <div class="picker-select-shortcuts">
                <button class="button select-all" id="sz-select-all"><i class="left-bias fa-solid fa-list-check"></i> Select All</button>
                <button class="button deselect-all" id="sz-deselect-all"><i class="left-bias fa-solid fa-list-ul"></i> Deselect All</button>
            </div>
        </div>
        <div class="modal-content green" id="tc-picker-modal">
            <button class="button exit" id="tc-picker-close"><i class="left-bias fa-solid fa-circle-xmark"></i> Exit</button>
            <div class="picker-select-shortcuts">
                <button class="button select-all" id="tc-select-all"><i class="left-bias fa-solid fa-list-check"></i> Select All</button>
                <button class="button deselect-all" id="tc-deselect-all"><i class="left-bias fa-solid fa-list-ul"></i> Deselect All</button>
            </div>
        </div>
        <div class="modal-content green" id="rm-picker-modal">
            <button class="button exit" id="rm-picker-close"><i class="left-bias fa-solid fa-circle-xmark"></i> Exit</button>
            <div class="picker-select-shortcuts">
                <button class="button select-all" id="rm-select-all"><i class="left-bias fa-solid fa-list-check"></i> Select All</button>
                <button class="button deselect-all" id="rm-deselect-all"><i class="left-bias fa-solid fa-list-ul"></i> Deselect All</button>
            </div>
        </div>
        <div class="modal-content green" id="cb-picker-modal">
            <button class="button exit" id="cb-picker-close"><i class="left-bias fa-solid fa-circle-xmark"></i> Exit</button>
            <div class="picker-select-shortcuts">
                <button class="button select-all" id="cb-select-all"><i class="left-bias fa-solid fa-list-check"></i> Select All</button>
                <button class="button deselect-all" id="cb-deselect-all"><i class="left-bias fa-solid fa-list-ul"></i> Deselect All</button>
            </div>
        </div>

        <div class="modal-content green" id="save-modal">
            <button class="button exit" id="save-close"><i class="left-bias fa-solid fa-circle-xmark"></i> Exit</button>
            <input type="text" class="save-name" id="save-name" placeholder="Name" maxlength="32">
            <button class="button" id="save-button" onclick="saveDialogOnClick()"><i class="left-bias fa-solid fa-floppy-disk"></i> Save</button>
            <div class="detail">Map pools are saved within this browser's local storage.</div>
            <div style="margin: 8px;"></div>
            <div class="detail">You may also keep this map pool with this URL.</div>
            <input type="text" style="font-size: .7em;" class="save-name" id="save-url" value="" readonly>
        </div>

        <div class="modal-content green" id="load-modal">
            <button class="button exit" id="load-close"><i class="left-bias fa-solid fa-circle-xmark"></i> Exit</button>
            <div class="load-container" id="load-container">
                <div class="load-wrapper">
                    <div class="load-name">Name</div>
                    <button class="button load-button"><i class="left-bias fa-solid fa-floppy-disk"></i>Load</button>
                    <button class="button load-delete"><i class="left-bias fa-solid fa-trash"></i>Delete</button>
                </div>
            </div>
        </div>

        <div class="modal-content red" id="discord-export-modal">
            <button class="button exit" id="discord-export-close"><i class="left-bias fa-solid fa-circle-xmark"></i> Exit</button>
            <div class="text-export-title">Discord Message</div>
            <div class="text-export-subtitle">Copy and paste this message into your Discord channel.</div>
            <textarea class="text-export-textarea" id="discord-export-textarea" readonly></textarea>
        </div>

        <div class="modal-content red" id="url-export-modal">
            <button class="button exit" id="url-export-close"><i class="left-bias fa-solid fa-circle-xmark"></i> Exit</button>
            <div class="text-export-title">Share via URL</div>
            <div class="text-export-subtitle">Copy and paste this URL into a browser.</div>
            <textarea type="text" class="text-export-textarea" id="url-export-textarea" rows="12" readonly></textarea>
        </div>
        
    </div>

    <div class="footer">
        Created by .jpg specifically for Inkling Performance Labs. Got feedback? Let me know at .jpg#8000 on Discord.
    </div>
</body>
<script src="init.js"></script>
<script src="generate.js"></script>
</html>